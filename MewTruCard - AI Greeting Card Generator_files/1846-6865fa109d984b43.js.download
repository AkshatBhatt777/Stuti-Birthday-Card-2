"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1846],{9613:function(e,t,a){a.d(t,{default:function(){return o}});var s=a(67949),r=a(86265),l=a(63810),n=a(19290),i=a(45635);function o(e){let{card:t}=e,[a,o]=(0,r.useState)("initial"),[c,d]=(0,r.useState)(!0),[u,x]=(0,r.useState)(!1),[m,f]=(0,r.useState)(null);function p(){let e=Date.now()+3e3,t=["#a786ff","#fd8bbc","#eca184","#f8deb1"];!function a(){Date.now()>e||((0,i.Z)({particleCount:2,angle:60,spread:55,startVelocity:60,origin:{x:0,y:.5},colors:t}),(0,i.Z)({particleCount:2,angle:120,spread:55,startVelocity:60,origin:{x:1,y:.5},colors:t}),requestAnimationFrame(a))}()}return((0,r.useEffect)(()=>{t.svgContent?f("data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(t.svgContent))):t.r2Url&&f(t.r2Url)},[t.r2Url,t.svgContent]),m)?(0,s.jsxs)("div",{className:"relative w-full max-w-2xl mx-auto min-h-[80vh] flex items-center justify-center",children:[(0,s.jsx)("div",{className:(0,n.cn)("transition-all duration-1000 w-full",c?"opacity-0 scale-90":"opacity-100 scale-100","final"===a?"transform-none":""),children:(0,s.jsx)("div",{className:"w-full mx-auto",children:(0,s.jsx)("div",{className:"transition-all duration-1000 ease-out ".concat(u?"scale-100 opacity-100":"scale-90 opacity-0"),children:(0,s.jsx)("div",{className:"relative w-full max-w-[400px] mx-auto",children:(0,s.jsx)("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden bg-transparent",style:{maxHeight:"70vh"},children:(0,s.jsx)(l.default,{src:m,alt:"".concat(t.cardType," card "),fill:!0,priority:!0,className:"transition-transform duration-300 hover:scale-102 object-contain",onClick:p,unoptimized:!0})})})})})}),c&&(0,s.jsx)("div",{className:(0,n.cn)("absolute inset-0 w-full perspective-envelope flex items-center justify-center","initial"===a?"cursor-pointer":""),children:(0,s.jsxs)("div",{className:"w-full max-w-[500px] px-4",children:["initial"===a&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-30",children:(0,s.jsxs)("button",{onClick:()=>{o("opening"),setTimeout(()=>{o("revealing"),setTimeout(()=>{o("final"),setTimeout(()=>{d(!1),setTimeout(()=>{x(!0),p()},500)},1e3)},1500)},1e3)},className:"group relative transform transition-all duration-300 hover:scale-105 focus:outline-none",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full animate-ping-slow bg-[#a786ff]/20"}),(0,s.jsx)("div",{className:"absolute inset-[-8px] rounded-full animate-pulse-slow bg-[#a786ff]/10"}),(0,s.jsxs)("div",{className:"relative w-28 h-28 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-[#a786ff]/90 shadow-[inset_0_2px_4px_rgba(0,0,0,0.2)] backdrop-blur-sm group-hover:bg-[#a786ff] transition-all duration-300 group-hover:shadow-[inset_0_2px_8px_rgba(0,0,0,0.3),0_0_30px_rgba(167,134,255,0.6)]"}),(0,s.jsx)("div",{className:"absolute inset-2 rounded-full border-2 border-dashed border-white/30 group-hover:border-white/50 transition-all duration-300 group-hover:rotate-[15deg]"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-[#b19bff]/50 to-[#a786ff] opacity-90 group-hover:opacity-100"}),(0,s.jsxs)("div",{className:"relative text-center transform group-hover:scale-105 transition-transform duration-300",children:[(0,s.jsx)("div",{className:"text-[0.8rem] uppercase tracking-[0.2em] font-bold text-[#FFC0CB]  [text-shadow:1px_1px_1px_rgba(0,0,0,0.3),-1px_-1px_1px_rgba(255,255,255,0.2)]",children:t.cardType}),(0,s.jsx)("div",{className:"text-[0.6rem] text-white/70 mt-1 group-hover:text-white/80",children:new Date().toLocaleDateString()}),(0,s.jsx)("div",{className:"mt-2 text-[#FFC0CB] text-xs font-medium flex items-center justify-center gap-1 [text-shadow:1px_1px_1px_rgba(0,0,0,0.2),-1px_-1px_1px_rgba(255,255,255,0.1)]",children:(0,s.jsx)("span",{children:" Click to Open"})}),(0,s.jsxs)("div",{className:"mt-2 text-[#FFC0CB] text-xs font-medium flex items-center justify-center gap-1 [text-shadow:1px_1px_1px_rgba(0,0,0,0.2),-1px_-1px_1px_rgba(255,255,255,0.1)]",children:[(0,s.jsx)("span",{className:"animate-bounce",children:"\uD83D\uDC46"}),(0,s.jsx)("span",{className:"animate-ping",children:"✨"})]})]})]})]})}),(0,s.jsxs)("div",{className:(0,n.cn)("relative w-full aspect-[3/4] bg-gradient-to-br from-[#FFE5E5] to-[#FFC0CB] rounded-lg shadow-xl transition-all duration-1000 transform-style-3d","opening"===a||"revealing"===a?"transform-gpu -translate-y-20 scale-95":"","final"===a?"opacity-0":"opacity-100"),children:[(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-4xl opacity-30 transform rotate-0 transition-transform duration-500",children:(0,s.jsx)("span",{className:"text-[#a786ff]",children:"\uD83D\uDC97"})}),(0,s.jsxs)("div",{className:"absolute top-[30%] left-1/2 -translate-x-1/2 -translate-y-1/2 w-full text-center",children:[(0,s.jsx)("div",{className:"font-serif text-2xl tracking-widest text-[#a786ff]/40",style:{fontStyle:"italic"},children:"MewTruCard"}),(0,s.jsx)("div",{className:"w-32 h-px mx-auto mt-2 bg-gradient-to-r from-transparent via-[#a786ff]/30 to-transparent"})]}),(0,s.jsx)("div",{className:(0,n.cn)("absolute top-0 left-0 right-0 h-1/2 bg-gradient-to-b from-[#FFC0CB] to-[#FFE5E5] rounded-t-lg origin-top transition-all duration-1000 z-20 backface-hidden","before:absolute before:inset-0 before:bg-gradient-to-br before:from-[#FFD1DC]/20 before:to-transparent before:rounded-t-lg","initial"===a?"transform-gpu rotate-0":"","opening"===a||"revealing"===a?"transform-gpu -rotate-x-180":""),children:(0,s.jsx)("div",{className:(0,n.cn)("absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-8 h-8 bg-[#a786ff] rounded-full shadow-inner flex items-center justify-center transition-opacity duration-300","initial"!==a?"opacity-0":"opacity-100"),children:(0,s.jsx)("span",{className:"text-white text-xl",children:"♥"})})}),(0,s.jsx)("div",{className:"absolute inset-4 bg-[#FFF5F6]/50 rounded-lg"}),(0,s.jsx)("div",{className:(0,n.cn)("absolute inset-4 bg-transparent rounded-lg shadow-inner transition-all duration-1000 transform-gpu","revealing"===a?"translate-y-[-120%] rotate-0 scale-110":"translate-y-0 rotate-2"),children:(0,s.jsx)("div",{className:(0,n.cn)("w-full h-full transition-opacity duration-500 rounded-lg overflow-hidden","revealing"===a?"opacity-100":"opacity-0"),children:(0,s.jsx)(l.default,{src:m,alt:"".concat(t.cardType," card preview"),fill:!0,className:"object-contain",unoptimized:!0})})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#FFF5F6] to-[#FFE5E5] rounded-lg -z-10"})]}),(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:("revealing"===a||"final"===a)&&[...Array(12)].map((e,t)=>(0,s.jsx)("div",{className:"absolute w-2 h-2 bg-[#FFB1C1]/80 rounded-full animate-sparkle",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%"),animationDelay:"".concat(2*Math.random(),"s")}},t))})]})})]}):(0,s.jsx)("div",{className:"w-full flex items-center justify-center h-[60vh]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-purple-400"})})}},41846:function(e,t,a){a.d(t,{O:function(){return f}});var s=a(67949),r=a(86265),l=a(25512),n=a(41425),i=a(98639),o=a(18203),c=a(76126),d=a(9613),u=a(71523),x=a(60),m=a(47598);function f(e){let{alt:t,cardId:a,cardType:f,imgUrl:p,isNewCard:h,svgContent:g,premium:v,isPremiumUser:b}=e,[j,w]=(0,r.useState)(!1),N=(0,c.useRouter)(),[y,C]=(0,r.useState)(!1),[F,_]=(0,r.useState)(!1),[k,D]=(0,r.useState)(!1),[S,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{JSON.parse(localStorage.getItem("likedCards")||"{}")[a]&&_(!0)},[a]);let z=()=>{N.push("/".concat(f,"/edit/").concat(a,"/"))},E=e=>{e.stopPropagation(),A(!0)};function B(e){let{src:t,alt:a,isLarge:r=!1}=e;return(0,s.jsx)("img",{src:t,alt:a,loading:"lazy",className:"object-contain ".concat(r?"max-w-full max-h-full":"w-full h-auto hover:scale-105 transition-transform duration-300"),width:r?void 0:400,height:r?void 0:600})}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.Vq,{open:j,onOpenChange:w,children:[(0,s.jsx)(l.hg,{asChild:!0,children:(0,s.jsxs)("div",{className:"relative w-full flex items-center justify-center cursor-pointer group overflow-hidden",children:[(0,s.jsx)(B,{src:p,alt:t}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300"}),v&&(0,s.jsx)("div",{className:"absolute top-4 left-4 p-2 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full cursor-pointer transition-all duration-300 hover:scale-110 shadow-lg z-10",onClick:E,children:(0,s.jsx)(u.Z,{className:"h-5 w-5 text-white"})}),(0,s.jsx)("div",{className:"absolute bottom-4 right-4 p-2 rounded-full cursor-pointer transition-all duration-300\n                ".concat(F?"bg-red-100":"bg-gray-200","\n                ").concat(k?"scale-125":"scale-100","\n                "),onClick:e=>{e.stopPropagation();let t=JSON.parse(localStorage.getItem("likedCards")||"{}"),s=!F;_(s),D(!0),setTimeout(()=>D(!1),300),s?((0,o.f)(a,"up"),t[a]=!0):delete t[a],localStorage.setItem("likedCards",JSON.stringify(t))},children:(0,s.jsx)(x.Z,{className:"h-5 w-5 ".concat(F?"text-red-500":"text-gray-400")})})]})}),(0,s.jsxs)(l.cZ,{className:"sm:max-w-[90vw] md:max-w-[80vw] lg:max-w-[70vw] xl:max-w-[60vw] p-0",children:[(0,s.jsx)(l.$N,{className:"sr-only",children:"Image Viewer"}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[y?(0,s.jsxs)("div",{className:"relative w-full h-[calc(100vh-200px)] overflow-auto flex items-center justify-center",children:[(0,s.jsx)(d.default,{card:{cardId:a,cardType:f,r2Url:p,svgContent:g}}),v&&(0,s.jsx)("div",{className:"absolute top-4 left-4 p-2 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full cursor-pointer transition-all duration-300 hover:scale-110 shadow-lg z-10",onClick:E,children:(0,s.jsx)(u.Z,{className:"h-5 w-5 text-white"})})]}):(0,s.jsxs)("div",{className:"relative w-full h-[calc(100vh-200px)] overflow-auto flex items-center justify-center p-4",children:[(0,s.jsx)(B,{src:p,alt:t,isLarge:!0}),v&&(0,s.jsx)("div",{className:"absolute top-4 left-4 p-2 bg-gradient-to-r from-purple-600 to-purple-700 rounded-full cursor-pointer transition-all duration-300 hover:scale-110 shadow-lg z-10",onClick:E,children:(0,s.jsx)(u.Z,{className:"h-5 w-5 text-white"})})]}),(0,s.jsx)("div",{className:"flex justify-between p-4 bg-white w-full border-t border-[#ada9a9]",children:h?(0,s.jsxs)("div",{className:"w-full max-w-md mx-auto flex gap-4 justify-center",children:[(0,s.jsxs)(n.z,{onClick:z,className:"bg-[#FFC0CB] text-[#4A4A4A] hover:bg-[#FFD1DC] transition-colors",children:[(0,s.jsx)(i.JtS,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsxs)(n.z,{onClick:z,className:"bg-[#FFC0CB] text-[#4A4A4A] hover:bg-[#FFD1DC] transition-colors",children:[(0,s.jsx)(i.kcA,{className:"mr-2 h-4 w-4"}),"Send"]}),(0,s.jsx)(n.z,{onClick:()=>C(!y),className:"bg-[#FFC0CB] text-[#4A4A4A] hover:bg-[#FFD1DC] transition-colors",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.hsE,{className:"mr-2 h-4 w-4"}),"Preview"]})})]}):(0,s.jsxs)("div",{className:"w-full max-w-md mx-auto flex gap-4 justify-center",children:[(0,s.jsxs)(n.z,{onClick:z,className:"bg-[#FFC0CB] text-[#4A4A4A] hover:bg-[#FFD1DC] transition-colors",children:[(0,s.jsx)(i.JtS,{className:"mr-2 h-4 w-4"}),"customize this card"]}),(0,s.jsx)(n.z,{onClick:()=>C(!y),className:"bg-[#FFC0CB] text-[#4A4A4A] hover:bg-[#FFD1DC] transition-colors",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.hsE,{className:"mr-2 h-4 w-4"}),"Preview"]})})]})})]})]})]}),!b&&(0,s.jsx)(m.Z,{isOpen:S,onOpenChange:A})]})}},18203:function(e,t,a){a.d(t,{f:function(){return s}}),a(16697);var s=(0,a(43828).$)("cf22bed9be7a29fe07b8c5553293e6e440fc4aa8")}}]);